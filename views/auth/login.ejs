<%- include('../partials/header') %>

<h2>Login</h2>
<form action="/auth/login" method="POST">
    <input type="hidden" name="_csrf" value="<%= csrfToken %>">
    <div class="form-group">
        <label for="email">Email</label>
        <input type="email" id="email" name="email" value="<%= typeof oldInput !== 'undefined' && oldInput.email ? oldInput.email : '' %>" required>
    </div>
    <div class="form-group">
        <label for="password">Password</label>
        <input type="password" id="password" name="password" required>
    </div>
    <button type="submit" class="btn">Login</button>
</form>
<p>
    <a href="/auth/forgot-password">Forgot Password?</a>
</p>

<% if (process.env.MICROSOFT_CLIENT_ID && process.env.MICROSOFT_CLIENT_SECRET) { %>
    <hr>
    <p>Or login with:</p>
    <a href="/auth/microsoft" class="btn" style="background-color: #0078D4;">
        <img src="https://learn.microsoft.com/en-us/entra/identity-platform/media/howto-add-branding-in-apps/ms-symbollockup_mssymbol_19.png" alt="Microsoft logo" style="height: 20px; vertical-align: middle; margin-right: 8px;">
        Login with Microsoft
    </a>
<% } %>

<p style="margin-top: 15px;">
    Need an account? <a href="/auth/register">Register</a>
</p>

<%- include('../partials/footer') %>